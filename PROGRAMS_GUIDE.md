# éŸ³è¨Šèˆ‡æ–‡å­—è™•ç†ç¨‹å¼ä½¿ç”¨æŒ‡å—

æœ¬æ–‡ä»¶èªªæ˜å°ˆç‚º ADA 2025 å¹´æœƒå…§å®¹è™•ç†æ‰€é–‹ç™¼çš„ç¨‹å¼å·¥å…·ã€‚

## ğŸ“‹ ç¨‹å¼ç¸½è¦½

é€™äº›ç¨‹å¼å½¢æˆå®Œæ•´çš„æœƒè­°å…§å®¹è™•ç†å·¥ä½œæµç¨‹ï¼š

```
éŸ³è¨Šæª”æ¡ˆ â†’ [batch_audio_processor.py] â†’ è½‰éŒ„æ–‡å­—
                        â†“
              [process_transcription.py] â†’ æ™ºèƒ½æ‘˜è¦
                        â†“
         [merge_transcript_slides.py] â†’ å®Œæ•´æœƒè­°ç­†è¨˜
                        â†“
    [merge_transcript_multi_slides.py] â†’ å¤šæŠ•å½±ç‰‡æ•´åˆç­†è¨˜
```

---

## 1. ğŸ™ï¸ batch_audio_processor.py - æ‰¹æ¬¡éŸ³è¨Šè½‰éŒ„è™•ç†å™¨

### ä¸»è¦åŠŸèƒ½
- è‡ªå‹•æœç´¢ä¸¦è™•ç†è³‡æ–™å¤¾ä¸­çš„æ‰€æœ‰éŸ³è¨Šæª”æ¡ˆ
- ä½¿ç”¨ OpenAI GPT-4o é€²è¡Œé«˜å“è³ªèªéŸ³è½‰éŒ„
- è‡ªå‹•åˆ†å‰²å¤§å‹éŸ³è¨Šæª”æ¡ˆï¼ˆ>25MB æˆ– >5åˆ†é˜ï¼‰
- ä½¿ç”¨ Gemini-2.5-pro é€²è¡Œå…§å®¹æ‘˜è¦
- æ‰¹æ¬¡ç”Ÿæˆ Word æ–‡ä»¶å ±å‘Š

### æ”¯æ´æ ¼å¼
éŸ³è¨Šï¼š`mp3, wav, m4a, aac, flac, ogg, wma, mp4, mov, avi, mkv, webm`
æ–‡å­—ï¼š`txt, md, rtf, doc, docx, pdf, html, htm, xml, json, csv`

### ä½¿ç”¨æ–¹å¼
```bash
# åŸºæœ¬ä½¿ç”¨ï¼ˆé è¨­ä½¿ç”¨ gpt-4o-mini-transcribeï¼‰
python batch_audio_processor.py

# æŒ‡å®šè³‡æ–™å¤¾
python batch_audio_processor.py "/path/to/audio/folder"

# æŒ‡å®šæ¨¡å‹
python batch_audio_processor.py "/path/to/folder" gpt-4o-transcribe
```

### ç‰¹æ®ŠåŠŸèƒ½
- **è­°ç¨‹æª”æ¡ˆé…å°**ï¼šè‡ªå‹•å°‹æ‰¾èˆ‡éŸ³è¨ŠåŒåçš„æ–‡å­—æª”æ¡ˆä½œç‚ºè­°ç¨‹
- **å¤§æª”æ¡ˆè™•ç†**ï¼šè‡ªå‹•åˆ†å‰²æˆ 5 åˆ†é˜ç‰‡æ®µ
- **æ‰¹æ¬¡å ±å‘Š**ï¼šç”Ÿæˆ `processing_report.docx` çµ±è¨ˆè™•ç†çµæœ

### æ³¨æ„äº‹é …
- éœ€è¦è¨­å®š `OPENAI_API_KEY` å’Œ `GOOGLE_API_KEY`
- å·²ä¿®æ”¹ç‚ºä½¿ç”¨ Gemini-2.5-proï¼ˆAPI key å·²å…§å»ºï¼‰

---

## 2. ğŸ“ process_transcription.py - è½‰éŒ„æ–‡å­—æ™ºèƒ½æ‘˜è¦è™•ç†å™¨

### ä¸»è¦åŠŸèƒ½
- è™•ç†å·²è½‰éŒ„çš„æ–‡å­—æª”æ¡ˆ
- ä½¿ç”¨ Gemini-2.5-pro ç”Ÿæˆå­¸è¡“è«–æ–‡é¢¨æ ¼çš„æœƒè­°ç­†è¨˜
- ä¿ç•™å®Œæ•´å…§å®¹ä¸¦é€²è¡Œå°ˆæ¥­æ½¤ç¨¿
- ç”Ÿæˆçµæ§‹åŒ–çš„ Markdown å’Œ Word æ–‡ä»¶

### ä½¿ç”¨æ–¹å¼
```bash
python process_transcription.py <transcription_file.txt>

# ç¯„ä¾‹
python process_transcription.py transcription-34.txt
```

### è¼¸å‡ºæ ¼å¼
- **Markdown æª”æ¡ˆ**ï¼š`[åŸæª”å]_summary.md`
- **Word æª”æ¡ˆ**ï¼š`[åŸæª”å]_summary.docx`

### æ ¼å¼ç‰¹é»
- **æ®µè½å¼å¯«ä½œ**ï¼šæµæš¢çš„å­¸è¡“é¢¨æ ¼æ•˜è¿°
- **é‡é»æ¨™è¨˜**ï¼š
  - **ç²—é«”**ï¼šé—œéµæ¦‚å¿µã€è—¥ç‰©åç¨±ã€é‡è¦æ•¸æ“š
  - __åº•ç·š__ï¼šæœ€é‡è¦çš„ç ”ç©¶ç™¼ç¾æˆ–çµè«–
- **é©åº¦åˆ—è¡¨**ï¼šè¤‡é›œè³‡è¨Šæ™‚ä½¿ç”¨é …ç›®ç¬¦è™Ÿå¢åŠ å¯è®€æ€§

### é©ç”¨å ´æ™¯
- è™•ç†å·²ç¶“è½‰éŒ„å®Œæˆçš„æœƒè­°éŒ„éŸ³æ–‡å­—
- éœ€è¦ç”Ÿæˆå°ˆæ¥­å­¸è¡“é¢¨æ ¼çš„æœƒè­°ç­†è¨˜
- å–®ä¸€æª”æ¡ˆçš„æ·±åº¦è™•ç†

---

## 3. ğŸ”„ merge_transcript_slides.py - æ¼”è¬›ç¨¿èˆ‡æŠ•å½±ç‰‡æ•´åˆå™¨

### ä¸»è¦åŠŸèƒ½
- æ™ºèƒ½åˆä½µæ¼”è¬›ç¨¿èˆ‡æŠ•å½±ç‰‡å…§å®¹
- ä»¥æ¼”è¬›è€…å…§å®¹ç‚ºä¸»è»¸ï¼ŒæŠ•å½±ç‰‡ä½œç‚ºè£œå……
- ä½¿ç”¨ Gemini-2.5-pro é€²è¡Œå…§å®¹æ•´åˆ
- ç”Ÿæˆå®Œæ•´ã€æµæš¢çš„æœƒè­°ç­†è¨˜

### ä½¿ç”¨æ–¹å¼
```bash
# åŸºæœ¬ä½¿ç”¨
python merge_transcript_slides.py <transcript_file> <slides_file>

# æŒ‡å®šè¼¸å‡ºåç¨±
python merge_transcript_slides.py transcript.txt slides.md lecture_notes

# åŒ…å«åœ–ç‰‡åµŒå…¥ï¼ˆæ–°åŠŸèƒ½ï¼‰
python merge_transcript_slides.py transcript.txt slides.md output_name --images "./slides/folder"

# ç¯„ä¾‹
python merge_transcript_slides.py transcription-34.txt "AID and GLP-1.md"
python merge_transcript_slides.py transcription-34.txt slides.md output --images "./Slides/folder"
```

### æ•´åˆåŸå‰‡
1. **æ¼”è¬›è€…å„ªå…ˆ**ï¼šä¿ç•™å®Œæ•´æ¼”è¬›å…§å®¹ï¼Œé€²è¡Œé©åº¦æ½¤ç¨¿
2. **æŠ•å½±ç‰‡è£œå……**ï¼š
   - æ·»åŠ å…·é«”æ•¸æ“šã€åœ–è¡¨èªªæ˜
   - å¡«è£œæ¼”è¬›æœªæåŠçš„é‡è¦è³‡è¨Š
   - é¿å…é‡è¤‡å…§å®¹
3. **æ ¼å¼æ¨™è¨˜**ï¼š
   - __åº•ç·š__ï¼šæ¨™è¨˜ä¾†è‡ªæŠ•å½±ç‰‡çš„è£œå……å’Œå»¶ä¼¸è§£è®€
4. **åœ–ç‰‡æ•´åˆ**ï¼ˆæ–°åŠŸèƒ½ï¼‰ï¼š
   - æ”¯æ´ `--images` åƒæ•¸è¼‰å…¥æŠ•å½±ç‰‡åœ–ç‰‡
   - è‡ªå‹•è§£æåœ–ç‰‡æ™‚é–“æˆ³è¨˜ï¼ˆå¦‚ slide_009_t1m4.7s.jpgï¼‰
   - åœ¨ Word æ–‡ä»¶ä¸­åµŒå…¥å¯¦éš›åœ–ç‰‡
   - Markdown æ–‡ä»¶ä½¿ç”¨åœ–ç‰‡é€£çµæ ¼å¼

### è¼¸å‡ºæª”æ¡ˆ
- **Markdown**ï¼š`[æŒ‡å®šåç¨±]_merged.md`ï¼ˆå«åœ–ç‰‡é€£çµï¼‰
- **Word**ï¼š`[æŒ‡å®šåç¨±]_merged.docx`ï¼ˆå«åµŒå…¥åœ–ç‰‡ï¼‰

---

## 4. ğŸ”„ğŸ”„ merge_transcript_multi_slides.py - å¤šæŠ•å½±ç‰‡æ•´åˆå™¨ï¼ˆæ–°ï¼‰

### ä¸»è¦åŠŸèƒ½
- æ”¯æ´åŒæ™‚æ•´åˆå¤šå€‹æŠ•å½±ç‰‡æª”æ¡ˆèˆ‡æ¼”è¬›ç¨¿
- æ¯å€‹æŠ•å½±ç‰‡å¯ä»¥æœ‰å°æ‡‰çš„åœ–ç‰‡è³‡æ–™å¤¾
- æ™ºèƒ½åˆä½µå¤šä»½å…§å®¹ï¼Œé¿å…é‡è¤‡
- ä½¿ç”¨ Gemini-2.5-pro é€²è¡Œæ•´åˆ
- ç”ŸæˆåŒ…å«æ‰€æœ‰å…§å®¹çš„å®Œæ•´ç­†è¨˜

### ä½¿ç”¨æ–¹å¼
```bash
# åŸºæœ¬ä½¿ç”¨ï¼ˆå¤šå€‹æŠ•å½±ç‰‡ï¼Œç„¡åœ–ç‰‡ï¼‰
python merge_transcript_multi_slides.py transcript.txt slides1.md slides2.md

# æŒ‡å®šè¼¸å‡ºåç¨±
python merge_transcript_multi_slides.py transcript.txt slides1.md slides2.md --output merged_notes

# å–®ä¸€æŠ•å½±ç‰‡èˆ‡åœ–ç‰‡
python merge_transcript_multi_slides.py transcript.txt slides1.md:images1/

# å¤šå€‹æŠ•å½±ç‰‡èˆ‡å°æ‡‰åœ–ç‰‡
python merge_transcript_multi_slides.py transcript.txt slides1.md:images1/ slides2.md:images2/ --output final

# æ··åˆä½¿ç”¨ï¼ˆéƒ¨åˆ†æœ‰åœ–ç‰‡ï¼‰
python merge_transcript_multi_slides.py transcript.txt slides1.md slides2.md:images2/ slides3.md
```

### ç‰¹æ®ŠåŠŸèƒ½
- **å½ˆæ€§è¼¸å…¥æ ¼å¼**ï¼šä½¿ç”¨ `slides.md:images/` æ ¼å¼æŒ‡å®šåœ–ç‰‡
- **æ™ºèƒ½æ™‚é–“æˆ³è¨˜è™•ç†**ï¼šè‡ªå‹•é¿å…å¤šå€‹æŠ•å½±ç‰‡åœ–ç‰‡çš„æ™‚é–“è¡çª
- **æµæš¢å…§å®¹éŠœæ¥**ï¼šç¢ºä¿å¤šå€‹æŠ•å½±ç‰‡å…§å®¹çš„è‡ªç„¶éæ¸¡
- **æ‰¹æ¬¡åœ–ç‰‡è™•ç†**ï¼šæ”¯æ´è™•ç†ç¸½è¨ˆæ•¸åå¼µåœ–ç‰‡

### è¼¸å‡ºæª”æ¡ˆ
- **Markdown**ï¼š`[åç¨±]_multi_merged.md`ï¼ˆå«åœ–ç‰‡é€£çµï¼‰
- **Word**ï¼š`[åç¨±]_multi_merged.docx`ï¼ˆå«åµŒå…¥åœ–ç‰‡ï¼‰

### é©ç”¨å ´æ™¯
- å¤šä½è¬›è€…çš„è¯åˆæ¼”è¬›
- åˆ†æ®µå¼çš„é•·æ™‚é–“æ¼”è¬›
- éœ€è¦æ•´åˆå¤šä»½ç›¸é—œæŠ•å½±ç‰‡çš„æœƒè­°
- å·¥ä½œåŠæˆ–æ•™å­¸èª²ç¨‹çš„å®Œæ•´è¨˜éŒ„

---

## 5. ğŸ¯ äº’å‹•å¼åˆä½µå·¥å…·ï¼ˆShell Scriptsï¼‰

### interactive_merge.sh - äº’å‹•å¼å¼•å°å·¥å…·

æä¾›å‹å–„çš„äº’å‹•å¼ä»‹é¢ï¼Œä¸€æ­¥æ­¥å¼•å°ä½¿ç”¨è€…å®Œæˆåˆä½µæµç¨‹ã€‚

**åŠŸèƒ½ç‰¹é»ï¼š**
- ğŸ¨ å½©è‰²ä»‹é¢ï¼Œæ¸…æ™°çš„æ­¥é©ŸæŒ‡å¼•
- ğŸ“ æ”¯æ´æª”æ¡ˆæ‹–æ”¾
- ğŸ–¼ï¸ è‡ªå‹•åµæ¸¬åœ–ç‰‡æ•¸é‡
- âœ… è¼¸å…¥é©—è­‰å’ŒéŒ¯èª¤è™•ç†
- ğŸ”„ å¯é‡è¤‡åŸ·è¡Œ

**ä½¿ç”¨æ–¹å¼ï¼š**
```bash
./interactive_merge.sh
```

**äº’å‹•æµç¨‹ï¼š**
1. é¸æ“‡æ¼”è¬›ç¨¿æª”æ¡ˆï¼ˆæ”¯æ´æ‹–æ”¾ï¼‰
2. é¸æ“‡å–®ä¸€æˆ–å¤šå€‹æŠ•å½±ç‰‡æ¨¡å¼
3. é€ä¸€è¼¸å…¥æŠ•å½±ç‰‡æª”æ¡ˆå’Œåœ–ç‰‡è³‡æ–™å¤¾
4. è¨­å®šè¼¸å‡ºåç¨±ï¼ˆå¯é¸ï¼‰
5. ç¢ºèªä¸¦åŸ·è¡Œ

### quick_merge.sh - å¿«é€Ÿå‘½ä»¤åˆ—å·¥å…·

é©åˆç†Ÿæ‚‰å‘½ä»¤åˆ—çš„ä½¿ç”¨è€…ï¼Œå¿«é€ŸåŸ·è¡Œåˆä½µã€‚

**ä½¿ç”¨æ–¹å¼ï¼š**
```bash
# å–®ä¸€æŠ•å½±ç‰‡
./quick_merge.sh transcript.txt slides.md

# å¤šå€‹æŠ•å½±ç‰‡
./quick_merge.sh transcript.txt slides1.md slides2.md slides3.md
```

**ç‰¹é»ï¼š**
- è‡ªå‹•åˆ¤æ–·å–®ä¸€æˆ–å¤šæŠ•å½±ç‰‡æ¨¡å¼
- ç°¡æ½”çš„åŸ·è¡Œéç¨‹
- é©åˆæ‰¹æ¬¡è™•ç†æˆ–è…³æœ¬æ•´åˆ

---

## ğŸ”§ ç’°å¢ƒè¨­å®š

### API é‡‘é‘°é…ç½®

âš ï¸ **é‡è¦å®‰å…¨æé†’**ï¼šçµ•å°ä¸è¦å°‡ API é‡‘é‘°ç¡¬ç·¨ç¢¼åœ¨ç¨‹å¼ä¸­æˆ–æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»çµ±ï¼

1. **è¤‡è£½ç¯„ä¾‹æª”æ¡ˆ**ï¼š
```bash
cp .env.example .env
```

2. **ç·¨è¼¯ .env æª”æ¡ˆï¼Œå¡«å…¥æ‚¨çš„ API é‡‘é‘°**ï¼š
```bash
# å¿…éœ€çš„ API Keys
OPENAI_API_KEY=your_openai_api_key_here
GOOGLE_API_KEY=your_google_api_key_here

# é¸ç”¨
ELEVENLABS_API_KEY=your_elevenlabs_api_key_here
```

3. **ç¢ºä¿ .env åœ¨ .gitignore ä¸­**ï¼ˆå·²è¨­å®šï¼‰

### ä¾è³´å¥—ä»¶
```bash
pip install openai google-generativeai python-docx python-dotenv pydub
```

---

## ğŸ“Š å»ºè­°å·¥ä½œæµç¨‹

### å®Œæ•´æœƒè­°è™•ç†æµç¨‹
1. **éŒ„éŸ³è½‰æ–‡å­—**ï¼šä½¿ç”¨ `batch_audio_processor.py` æ‰¹æ¬¡è™•ç†éŸ³è¨Š
2. **æ·±åº¦æ‘˜è¦**ï¼šä½¿ç”¨ `process_transcription.py` ç”Ÿæˆå­¸è¡“ç­†è¨˜
3. **å…§å®¹æ•´åˆ**ï¼šä½¿ç”¨ `merge_transcript_slides.py` åˆä½µæ¼”è¬›èˆ‡æŠ•å½±ç‰‡

### å¿«é€Ÿè™•ç†å–®ä¸€æª”æ¡ˆ
- å·²æœ‰è½‰éŒ„æ–‡å­— â†’ ç›´æ¥ä½¿ç”¨ `process_transcription.py`
- éœ€è¦åˆä½µæŠ•å½±ç‰‡ â†’ ä½¿ç”¨ `merge_transcript_slides.py`

---

## â“ å¸¸è¦‹å•é¡Œ

### Q1: æª”æ¡ˆè·¯å¾‘æœ‰ç©ºæ ¼æ€éº¼è¾¦ï¼Ÿ
ä½¿ç”¨å¼•è™ŸåŒ…åœè·¯å¾‘ï¼š
```bash
python process_transcription.py "/path with spaces/file.txt"
```

### Q2: å¦‚ä½•è™•ç†è¶…å¤§æª”æ¡ˆï¼Ÿ
- `batch_audio_processor.py` æœƒè‡ªå‹•åˆ†å‰²å¤§æª”æ¡ˆ
- å¦‚æœ API è¶…æ™‚ï¼Œå¯ä»¥åˆ†æ‰¹è™•ç†æˆ–ä½¿ç”¨è¼ƒå°çš„æ¨¡å‹

### Q3: è¼¸å‡ºæª”æ¡ˆåœ¨å“ªè£¡ï¼Ÿ
æ‰€æœ‰è¼¸å‡ºæª”æ¡ˆéƒ½ä¿å­˜åœ¨åŸå§‹æª”æ¡ˆçš„åŒä¸€ç›®éŒ„ä¸­

### Q4: å¦‚ä½•æ›´æ”¹è¼¸å‡ºèªè¨€ï¼Ÿ
ç¨‹å¼é è¨­ä½¿ç”¨ç¹é«”ä¸­æ–‡ï¼ˆzh-twï¼‰ï¼Œå¯åœ¨ç¨‹å¼ç¢¼ä¸­çš„ SYSTEM_PROMPT ä¿®æ”¹

---

## ğŸ“Œ å¿«é€Ÿåƒè€ƒ

### Python ç¨‹å¼

| ç¨‹å¼ | è¼¸å…¥ | è¼¸å‡º | ä¸»è¦ç”¨é€” |
|------|------|------|----------|
| batch_audio_processor.py | éŸ³è¨Šè³‡æ–™å¤¾ | è½‰éŒ„æ–‡å­— + Word | æ‰¹æ¬¡éŸ³è¨Šè½‰éŒ„ |
| process_transcription.py | è½‰éŒ„æ–‡å­— | æ‘˜è¦ MD + Word | æ™ºèƒ½æ‘˜è¦ç”Ÿæˆ |
| merge_transcript_slides.py | æ¼”è¬›ç¨¿ + æŠ•å½±ç‰‡ | æ•´åˆ MD + Word | å…§å®¹æ•´åˆ |
| merge_transcript_multi_slides.py | æ¼”è¬›ç¨¿ + å¤šæŠ•å½±ç‰‡ | æ•´åˆ MD + Word | å¤šæŠ•å½±ç‰‡æ•´åˆ |

### Shell è…³æœ¬

| è…³æœ¬ | ç”¨é€” | ç‰¹é» |
|------|------|------|
| interactive_merge.sh | äº’å‹•å¼åˆä½µå¼•å° | å‹å–„ä»‹é¢ã€æ­¥é©Ÿå¼•å° |
| quick_merge.sh | å¿«é€Ÿå‘½ä»¤åˆ—åˆä½µ | ç°¡æ½”å¿«é€Ÿã€é©åˆæ‰¹æ¬¡ |
| audio_auto.sh | éŸ³è¨Šæ‰¹æ¬¡è™•ç† | è‡ªå‹•åˆ†å‰²ã€æ ¼å¼é¸æ“‡ |
| start_app.sh | å•Ÿå‹•ä¸»ç¨‹å¼ | Streamlit ä»‹é¢ |

---

æœ€å¾Œæ›´æ–°ï¼š2024å¹´1æœˆ15æ—¥